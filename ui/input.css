/* TailwindCSS imports */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Theme CSS Variables */
@layer base {
    /* Dark theme (default) */
    :root {
        /* Background colors */
        --color-bg: #0f172a;           /* slate-900 */
        --color-surface: #1e293b;      /* slate-800 */
        --color-surface-hover: #334155; /* slate-700 */
        --color-border: #334155;       /* slate-700 */
        
        /* Text colors */
        --color-text: #f8fafc;         /* slate-50 */
        --color-text-secondary: #94a3b8; /* slate-400 */
        --color-muted: #64748b;        /* slate-500 */
        
        /* Accent colors (same in both themes) */
        --color-accent: #3b82f6;       /* blue-500 */
        --color-accent-hover: #2563eb; /* blue-600 */
        --color-success: #22c55e;      /* green-500 */
        --color-warning: #f59e0b;      /* amber-500 */
        --color-error: #ef4444;        /* red-500 */
        
        /* Component type colors */
        --color-source: #8b5cf6;       /* violet-500 */
        --color-transform: #06b6d4;    /* cyan-500 */
        --color-sink: #f97316;         /* orange-500 */
        
        /* Component background variants (with opacity) */
        --color-source-bg: rgba(139, 92, 246, 0.2);
        --color-source-bg-hover: rgba(139, 92, 246, 0.3);
        --color-transform-bg: rgba(6, 182, 212, 0.2);
        --color-transform-bg-hover: rgba(6, 182, 212, 0.3);
        --color-sink-bg: rgba(249, 115, 22, 0.2);
        --color-sink-bg-hover: rgba(249, 115, 22, 0.3);
        
        /* Scrollbar */
        --color-scrollbar: #334155;    /* slate-700 */
        --color-scrollbar-hover: #475569; /* slate-600 */
    }
    
    /* Light theme */
    .light {
        /* Background colors */
        --color-bg: #f8fafc;           /* slate-50 */
        --color-surface: #ffffff;      /* white */
        --color-surface-hover: #f1f5f9; /* slate-100 */
        --color-border: #e2e8f0;       /* slate-200 */
        
        /* Text colors */
        --color-text: #0f172a;         /* slate-900 */
        --color-text-secondary: #475569; /* slate-600 */
        --color-muted: #64748b;        /* slate-500 */
        
        /* Accent colors stay the same */
        --color-accent: #3b82f6;       /* blue-500 */
        --color-accent-hover: #2563eb; /* blue-600 */
        --color-success: #22c55e;      /* green-500 */
        --color-warning: #f59e0b;      /* amber-500 */
        --color-error: #ef4444;        /* red-500 */
        
        /* Component type colors stay the same */
        --color-source: #8b5cf6;       /* violet-500 */
        --color-transform: #06b6d4;    /* cyan-500 */
        --color-sink: #f97316;         /* orange-500 */
        
        /* Component background variants (with opacity - lighter for light mode) */
        --color-source-bg: rgba(139, 92, 246, 0.1);
        --color-source-bg-hover: rgba(139, 92, 246, 0.2);
        --color-transform-bg: rgba(6, 182, 212, 0.1);
        --color-transform-bg-hover: rgba(6, 182, 212, 0.2);
        --color-sink-bg: rgba(249, 115, 22, 0.1);
        --color-sink-bg-hover: rgba(249, 115, 22, 0.2);
        
        /* Scrollbar */
        --color-scrollbar: #cbd5e1;    /* slate-300 */
        --color-scrollbar-hover: #94a3b8; /* slate-400 */
    }
}

/* Custom component styles */
@layer components {
    /* Button variants */
    .btn {
        @apply px-4 py-2 rounded-lg font-medium transition-colors duration-150;
        @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
        ring-offset-color: var(--color-bg);
    }
    
    .btn-primary {
        @apply btn text-white focus:ring-blue-500;
        background-color: var(--color-accent);
    }
    
    .btn-primary:hover {
        background-color: var(--color-accent-hover);
    }
    
    .btn-secondary {
        @apply btn text-white focus:ring-slate-500;
        background-color: var(--color-surface-hover);
    }
    
    .btn-secondary:hover {
        background-color: var(--color-border);
    }
    
    .btn-danger {
        @apply btn text-white focus:ring-red-500;
        background-color: var(--color-error);
    }
    
    .btn-danger:hover {
        background-color: #dc2626; /* red-600 */
    }
    
    .btn-ghost {
        @apply btn bg-transparent focus:ring-slate-500;
        color: var(--color-text-secondary);
    }
    
    .btn-ghost:hover {
        background-color: var(--color-surface);
    }
    
    /* Input fields */
    .input {
        @apply w-full px-3 py-2 rounded-lg;
        @apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent;
        @apply transition-colors duration-150;
        background-color: var(--color-surface);
        border: 1px solid var(--color-border);
        color: var(--color-text);
    }
    
    .input::placeholder {
        color: var(--color-muted);
    }
    
    .input-label {
        @apply block text-sm font-medium mb-1;
        color: var(--color-text-secondary);
    }
    
    /* Cards */
    .card {
        @apply rounded-xl p-4;
        background-color: var(--color-surface);
        border: 1px solid var(--color-border);
    }
    
    /* Pipeline nodes */
    .pipeline-node {
        @apply flex items-center gap-2 px-3 py-2 rounded-lg cursor-pointer;
        @apply border-2 border-transparent transition-all duration-150;
        @apply hover:shadow-lg;
    }
    
    .pipeline-node.source {
        background-color: var(--color-source-bg);
    }
    
    .pipeline-node.source:hover {
        background-color: var(--color-source-bg-hover);
        border-color: var(--color-source);
    }
    
    .pipeline-node.transform {
        background-color: var(--color-transform-bg);
    }
    
    .pipeline-node.transform:hover {
        background-color: var(--color-transform-bg-hover);
        border-color: var(--color-transform);
    }
    
    .pipeline-node.sink {
        background-color: var(--color-sink-bg);
    }
    
    .pipeline-node.sink:hover {
        background-color: var(--color-sink-bg-hover);
        border-color: var(--color-sink);
    }
    
    .pipeline-node.selected {
        @apply ring-2 ring-blue-500;
    }
    
    /* Status indicators */
    .status-dot {
        @apply w-2 h-2 rounded-full;
    }
    
    .status-dot.healthy {
        background-color: var(--color-success);
    }
    
    .status-dot.degraded {
        background-color: var(--color-warning);
    }
    
    .status-dot.unhealthy {
        background-color: var(--color-error);
    }
    
    .status-dot.unknown {
        background-color: var(--color-muted);
    }
    
    /* Scrollbar styling */
    .custom-scrollbar {
        scrollbar-width: thin;
        scrollbar-color: var(--color-scrollbar) transparent;
    }
    
    .custom-scrollbar::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }
    
    .custom-scrollbar::-webkit-scrollbar-track {
        background: transparent;
    }
    
    .custom-scrollbar::-webkit-scrollbar-thumb {
        background-color: var(--color-scrollbar);
        border-radius: 4px;
    }
    
    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background-color: var(--color-scrollbar-hover);
    }
    
    /* Theme-aware utility classes */
    .bg-theme {
        background-color: var(--color-bg);
    }
    
    .bg-theme-surface {
        background-color: var(--color-surface);
    }
    
    .bg-theme-surface-hover {
        background-color: var(--color-surface-hover);
    }
    
    .border-theme {
        border-color: var(--color-border);
    }
    
    .border-accent {
        border-color: var(--color-accent);
    }
    
    .hover\:border-accent:hover {
        border-color: var(--color-accent);
    }
    
    .text-theme {
        color: var(--color-text);
    }
    
    .text-theme-secondary {
        color: var(--color-text-secondary);
    }
    
    .text-theme-muted {
        color: var(--color-muted);
    }
    
    /* Accent background with opacity */
    .bg-accent\/10 {
        background-color: rgba(59, 130, 246, 0.1);
    }
    
    .bg-accent\/20 {
        background-color: rgba(59, 130, 246, 0.2);
    }
}

/* Animation utilities */
@layer utilities {
    .animate-pulse-slow {
        animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }
    
    .animate-flow {
        animation: flow 2s linear infinite;
    }
}

@keyframes flow {
    0% {
        stroke-dashoffset: 0;
    }
    100% {
        stroke-dashoffset: -20;
    }
}
